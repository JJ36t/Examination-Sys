import sqlite3
import os

# الاتصال بقاعدة البيانات
db_path = os.path.join(os.path.dirname(os.path.abspath(__file__)), 'instance', 'examination.db')
conn = sqlite3.connect(db_path)
cursor = conn.cursor()

# تحديث وحدات المواد الدراسية
course_units = [
    # المرحلة الأولى، الفصل الأول
    ('اساسيات برمجة', 1, 1, 8),
    ('مقدمة في تكنلوجيا المعلومات', 1, 1, 8),
    ('تصميم منطقي', 1, 1, 6),
    ('اقتصاد', 1, 1, 4),
    
    # المرحلة الأولى، الفصل الثاني
    ('هياكل متقطعة', 1, 2, 6),
    ('تركيب الحاسوب', 1, 2, 6),
    ('حقوق الانسان', 1, 2, 2),
    ('ديمقراطية', 1, 2, 2),
    
    # المرحلة الثانية، الفصل الأول
    ('برمجة كيانية', 2, 1, 8),
    ('طرق عددية', 2, 1, 6),
    ('معالجات دقيقة', 2, 1, 8),
    ('اللغة العربية', 2, 1, 2),
    
    # المرحلة الثانية، الفصل الثاني
    ('نظرية احتسابية', 2, 2, 4),
    ('هياكل بيانات', 2, 2, 8),
    ('احصاء', 2, 2, 4),
    ('جافا', 2, 2, 6),
    
    # المرحلة الثالثة، الفصل الأول
    ('بحث ويب', 3, 1, 4),
    ('برمجة مواقع', 3, 1, 6),
    ('رسم بالحاسوب', 3, 1, 8),
    ('قواعد بيانات', 3, 1, 8),
    
    # المرحلة الثالثة، الفصل الثاني
    ('مترجمات', 3, 2, 6),
    ('بايثون', 3, 2, 6),
    ('ذكاء اصطناعي', 3, 2, 6),
    ('تشفير', 3, 2, 4),
    
    # المرحلة الرابعة، الفصل الأول
    ('انترنيت الاشياء', 4, 1, 6),
    ('نظم تشغيل', 4, 1, 8),
    ('معالجة صور', 4, 1, 8),
    ('امنية حواسيب', 4, 1, 4),
    
    # المرحلة الرابعة، الفصل الثاني
    ('حوسبة سحابية', 4, 2, 4),
    ('تمييز انماط', 4, 2, 4),
    ('شبكات', 4, 2, 8),
    ('تجارة الكترونية', 4, 2, 4),
]

# تحديث كل مادة
for course_name, stage, semester, units in course_units:
    cursor.execute(
        "UPDATE course SET units = ? WHERE name = ? AND stage = ? AND semester = ?",
        (units, course_name, stage, semester)
    )
    print(f"تم تحديث وحدات مادة {course_name} إلى {units}")

# حفظ التغييرات وإغلاق الاتصال
conn.commit()
conn.close()

print("تم تحديث وحدات جميع المواد الدراسية بنجاح")
